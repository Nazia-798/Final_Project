{% extends "base.html" %}

{% block content %}
<!-- Hero Section -->
<section class="bg-gradient-to-r from-farm-green to-farm-light-green text-white py-20">
    <div class="container mx-auto px-4 text-center">
        <h1 class="text-4xl md:text-6xl font-bold mb-6">Welcome to FarmLink</h1>
        <p class="text-xl md:text-2xl mb-8">Farmers' Digital Hub - Connect, Learn, and Grow Together</p>
        <div class="space-x-4">
            {% if not current_user.is_authenticated %}
            <a href="{{ url_for('register') }}" class="bg-white text-farm-green px-8 py-3 rounded-lg font-bold hover:bg-farm-tan transition">
                Join Our Community
            </a>
            {% endif %}
            <a href="{{ url_for('forum') }}" class="border-2 border-white text-white px-8 py-3 rounded-lg font-bold hover:bg-white hover:text-farm-green transition">
                Explore Features
            </a>
        </div>
    </div>
</section>

<!-- Features Section -->
<section class="py-16 bg-white">
    <div class="container mx-auto px-4">
        <h2 class="text-3xl font-bold text-center text-farm-green mb-12">Our Platform Features</h2>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
            <!-- Feature 1 -->
            <div class="bg-farm-tan p-6 rounded-lg shadow-md text-center">
                <div class="bg-farm-green w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-comments text-white text-2xl"></i>
                </div>
                <h3 class="text-xl font-bold text-farm-green mb-3">Discussion Forum</h3>
                <p class="text-gray-700">Connect with fellow farmers, share experiences, and get answers to your questions.</p>
            </div>
            
            <!-- Feature 2 -->
            <div class="bg-farm-tan p-6 rounded-lg shadow-md text-center">
                <div class="bg-farm-green w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-book text-white text-2xl"></i>
                </div>
                <h3 class="text-xl font-bold text-farm-green mb-3">Knowledge Base</h3>
                <p class="text-gray-700">Access educational content, success stories, and agricultural techniques.</p>
            </div>
            
            <!-- Feature 3 -->
            <div class="bg-farm-tan p-6 rounded-lg shadow-md text-center">
                <div class="bg-farm-green w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-user-tie text-white text-2xl"></i>
                </div>
                <h3 class="text-xl font-bold text-farm-green mb-3">Expert Consultancy</h3>
                <p class="text-gray-700">Get professional advice from agricultural experts and consultants.</p>
            </div>
            
            <!-- Feature 4 -->
            <div class="bg-farm-tan p-6 rounded-lg shadow-md text-center">
                <div class="bg-farm-green w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4">
                    <i class="fas fa-shopping-cart text-white text-2xl"></i>
                </div>
                <h3 class="text-xl font-bold text-farm-green mb-3">Marketplace</h3>
                <p class="text-gray-700">Buy and sell agricultural products directly with other farmers.</p>
            </div>
        </div>
    </div>
</section>

<!-- Latest Content Section -->
<section class="py-16 bg-farm-light-green text-white">
    <div class="container mx-auto px-4">
        <h2 class="text-3xl font-bold text-center mb-12">Latest from Our Community</h2>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
            <!-- Latest Discussions -->
            <div class="bg-white text-gray-800 rounded-lg p-6">
                <h3 class="text-2xl font-bold text-farm-green mb-4">Recent Discussions</h3>
                <div class="space-y-4">
                    {% for post in latest_posts %}
                    <div class="border-l-4 border-farm-green pl-4 py-2">
                        <a href="{{ url_for('forum_post', post_id=post.id) }}" class="font-semibold hover:text-farm-green">
                            {{ post.title }}
                        </a>
                        <p class="text-sm text-gray-600">by {{ post.author.name }} • {{ post.created_at.strftime('%b %d') }}</p>
                    </div>
                    {% endfor %}
                </div>
                <a href="{{ url_for('forum') }}" class="inline-block mt-4 text-farm-green font-bold hover:underline">
                    View All Discussions →
                </a>
            </div>
            
            <!-- Featured Products -->
            <div class="bg-white text-gray-800 rounded-lg p-6">
                <h3 class="text-2xl font-bold text-farm-green mb-4">Featured Products</h3>
                <div class="space-y-4">
                    {% for product in featured_products %}
                    <div class="flex items-center space-x-4 border-b pb-4">
                        <div class="bg-farm-tan w-16 h-16 rounded flex items-center justify-center">
                            <i class="fas fa-apple-alt text-farm-green text-xl"></i>
                        </div>
                        <div>
                            <a href="{{ url_for('product_detail', product_id=product.id) }}" class="font-semibold hover:text-farm-green">
                                {{ product.name }}
                            </a>
                            <p class="text-farm-green font-bold">Rs. {{ product.price }}/{{ product.unit }}</p>
                        </div>
                    </div>
                    {% endfor %}
                </div>
                <a href="{{ url_for('marketplace') }}" class="inline-block mt-4 text-farm-green font-bold hover:underline">
                    Browse Marketplace →
                </a>
            </div>
        </div>
    </div>
</section>

<!-- Statistics Section -->
<section class="py-16 bg-farm-brown text-white">
    <div class="container mx-auto px-4 text-center">
        <div class="grid grid-cols-2 md:grid-cols-4 gap-8">
            <div>
                <div class="text-4xl font-bold mb-2">{{ total_users }}+</div>
                <div class="text-farm-tan">Active Farmers</div>
            </div>
            <div>
                <div class="text-4xl font-bold mb-2">{{ total_consultants }}+</div>
                <div class="text-farm-tan">Expert Consultants</div>
            </div>
            <div>
                <div class="text-4xl font-bold mb-2">{{ total_posts }}+</div>
                <div class="text-farm-tan">Knowledge Articles</div>
            </div>
            <div>
                <div class="text-4xl font-bold mb-2">{{ total_products }}+</div>
                <div class="text-farm-tan">Products Listed</div>
            </div>
        </div>
    </div>
</section>

<!-- CTA Section -->
<section class="py-16 bg-white text-center">
    <div class="container mx-auto px-4">
        <h2 class="text-3xl font-bold text-farm-green mb-4">Ready to Transform Your Farming?</h2>
        <p class="text-xl mb-8 text-gray-600">Join thousands of farmers in Sindh who are already benefiting from our digital platform.</p>
        {% if not current_user.is_authenticated %}
        <a href="{{ url_for('register') }}" class="bg-farm-green hover:bg-farm-light-green px-8 py-3 rounded-lg font-bold text-white transition">
            Register Now - It's Free!
        </a>
        {% else %}
        <a href="{{ url_for('dashboard') }}" class="bg-farm-green hover:bg-farm-light-green px-8 py-3 rounded-lg font-bold text-white transition">
            Go to Dashboard
        </a>
        {% endif %}
    </div>
</section>
{% endblock %}